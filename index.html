<script>
  async function checkKey() {
    const resultBox = document.getElementById('result');
    resultBox.innerHTML = '⏳ در حال بررسی...';

    // 🔐 کلید جدید شما
    const apiKey = "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";
    const baseUrl = "https://api.gapgpt.app/v1/models";

    try {
      const response = await fetch(baseUrl, {
        method: 'GET',
        headers: {
          'Authorization': 'Bearer ' + apiKey
        }
      });

      if (response.ok) {
        const data = await response.json();
        const models = data.data.map(m => m.id).join('\n');
        resultBox.innerHTML = `<strong>✅ کلید معتبر است!</strong><br>مدل‌های قابل دسترسی:<br><pre>${models}</pre>`;
      } else {
        const error = await response.json();
        resultBox.innerHTML = `<strong>❌ کلید نامعتبر یا محدود شده</strong><br><pre>${JSON.stringify(error, null, 2)}</pre>`;
      }
    } catch (err) {
      resultBox.innerHTML = `<strong>⚠️ خطا در اتصال یا درخواست</strong><br><pre>${err.message}</pre>`;
    }
  }
</script>
